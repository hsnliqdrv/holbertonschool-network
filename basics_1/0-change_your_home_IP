#!/usr/bin/env bash
# Configures the local /etc/hosts file to redirect specific domains

# Requirement 1: Change localhost to resolve to 127.0.0.2
# We use 'sed' to find the line with 127.0.0.1 and localhost and replace the IP
sudo sed -i 's/127.0.0.1\s*localhost/127.0.0.2 localhost/' /etc/hosts

# Requirement 2: Make facebook.com resolve to 8.8.8.8
# If facebook.com already exists in the file, update it. If not, append it.
if grep -q "facebook.com" /etc/hosts; then
    sudo sed -i 's/.*facebook.com/8.8.8.8 facebook.com/' /etc/hosts
else
    echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts > /dev/null
fi